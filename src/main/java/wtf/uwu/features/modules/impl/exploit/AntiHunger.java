package wtf.uwu.features.modules.impl.exploit;

import net.minecraft.entity.EntityFlying;
import wtf.uwu.events.annotations.EventTarget;
import wtf.uwu.events.impl.packet.PacketEvent;
import wtf.uwu.features.modules.Module;
import wtf.uwu.features.modules.ModuleCategory;
import wtf.uwu.features.modules.ModuleInfo;
import wtf.uwu.features.values.impl.BoolValue;

@ModuleInfo(name = "AntiHunger", category = ModuleCategory.Exploit)
public class AntiHunger extends Module {
    public final BoolValue noSprint = new BoolValue("No Sprint", true, this);
    public final BoolValue shouldFloat = new BoolValue("Float", true, this);

    @EventTarget
    public void onPacket(PacketEvent packetEvent) {
        if (packetEvent.getPacket() instanceof EntityFlying packet) {
            if (packet.onGround && mc.thePlayer.onGround &&  shouldFloat.get()) {
                packet.onGround = false;
            }
        }

        if (noSprint.get() && mc.thePlayer.isSprinting()) {
            mc.thePlayer.serverSprintState = false;
        }
    }
}
